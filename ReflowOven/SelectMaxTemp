/* 
This code serves to allow the user to set the temperatures that define the reflow curve
it is used both to select values for the RAMP (temperature of the soak) and FLOW 
(peak) temperatures
maxReflow = 
MaxTemp = Temperature value for each
maxT = maximum allowable value for MaxTemp
minT = minimum allowable value for MaxTemp
str = string that displays which temperature is being set
*/
int SelectMaxTemp(boolean maxReflow, char* str, int MaxTemp, int maxT, int minT){
boolean TempSelect = true;

    lcd.setCursor(0, 0);
    lcd.print(str);
    lcd.print("             ");
    lcd.setCursor(0, 1);
    lcd.print(MaxTemp);
    lcd.print(" ");
    lcd.print((char)223);
    lcd.print("C       ");
    delay(500);
/* 
Loop to select Max Temp. Uses a switch case to read the LCD buttons
and makes adjustments to the temperature level accordingly
Checks with each iteration that the temperatures being set are
within allowable ranges
*/
while(TempSelect){
int lcd_key = getButtonPress();
switch (lcd_key)
{
case btnRIGHT:
{
if(conditions(10,MaxTemp,maxT,minT,str)){
MaxTemp +=10;
/*
Adds 10 C to temp value
*/
}
break;
}
case btnLEFT:
{
if(conditions(-10,MaxTemp,maxT,minT,str)){
MaxTemp +=-10;
/*
Subtracts 10 C from temp value
*/
}
break;
}
case btnUP:
{
if(conditions(1,MaxTemp,maxT,minT,str)){
MaxTemp +=1;
/*
Adds 1 C to temp value
*/
}
break;
}
case btnDOWN:
{
if(conditions(-1,MaxTemp,maxT,minT,str)){
MaxTemp +=-1;
/*
Subtracts 1 C from temp value
*/
}
break;
}
case btnSELECT:
{TempSelect = false;
break;
}
case btnNONE:
{
break;
}
}
lcd.setCursor(0, 1);
lcd.print(MaxTemp);
lcd.print(" ");
lcd.print((char)223);
lcd.print("C");
delay(300);
}
return MaxTemp;
/* 
Displays temp value to user
returns to Reflow.ino
*/
}
